import time
import random
from dataclasses import dataclass

@dataclass(frozen=True)
class Character:
    """
    ë“±ì¥ì¸ë¬¼ í´ë˜ìŠ¤
    """
    name: str
    hair: str
    clothes: str
    shoes: str


class DetectiveGame:
    """
    íƒì • ê²Œì„ í´ë˜ìŠ¤
    """
    
    def __init__(self):
        self.characters = [
            Character("ìµœOO", "ì¥ë°œì´ì•¼", "ìš´ë™ë³µì„ ì…ì—ˆì–´", "ë‚˜ì´í‚¤ë¥¼ ì‹ ì—ˆì–´"),
            Character("ê¹€OO", "íŒŒë€ ëª¨ìë¥¼ ì¼ì–´", "ì–‘ë³µì„ ì…ì—ˆì–´", "êµ¬ë‘ë¥¼ ì‹ ì—ˆì–´"),
            Character("ì´Oí¬", "íŒŒë§ˆë¥¼ í–ˆì–´", "ë¬´ìŠ¤íƒ•ì„ ì…ì—ˆì–´", "ì•„ë¬´ê²ƒë„ ì•ˆ ì‹ ê³  ìˆì—ˆì–´"),
            Character("ì†OO", "ìŠ¤ë‹˜ ë¨¸ë¦¬ì•¼", "ì…”ì¸ ë¥¼ ì…ì—ˆì–´", "ìŠ¬ë¦¬í¼ ì‹ ì—ˆì–´"),
            Character("ì¥OO", "ë‹¨ë°œë¨¸ë¦¬ì•¼", "ì¹˜ë§ˆë¥¼ ì…ì—ˆì–´", "ë¶€ì¸ ë¥¼ ì‹ ì—ˆì–´"),
            Character("ì•ˆOO", "íˆ¬ë¸”ëŸ­ì„ í–ˆì–´", "ë°˜íŒ”í‹°ë¥¼ ì…ì—ˆì–´", "í¬ë¡ìŠ¤ë¥¼ ì‹ ì—ˆì–´"),
            Character("ì´Oí˜„", "í—ˆë¦¬ê¹Œì§€ ë¨¸ë¦¬ì¹´ë½ì´ ìˆì–´", "ì›í”¼ìŠ¤ë¥¼ ì…ì—ˆì–´", "íì„ ì‹ ì—ˆì–´")
        ]
        self.character_attr = {"hair":"ë¨¸ë¦¬ìŠ¤íƒ€ì¼", 
                               "clothes":"ì˜·", 
                               "shoes":"ì‹ ë°œ"}
        self.murderer = None
        self.victim = None
        self.suspect = None
        self.dying_message = ""
        self.detective_name = ""
        self.lives = 2

    def show_intro(self):
        """
        ê²Œì„ ì¸íŠ¸ë¡œ

        1. íƒì • ì´ë¦„ ì„¤ì •
        2. ëœë¤ í¬ìƒì ì„ ì •
        3. ëœë¤ ë²”ì¸ ì„ ì •
        4. ë‹¤ì‰ë©”ì‹œì§€ ìƒì„±
        
        """
        print("íƒì • ê²Œì„ì— ì˜¤ì‹  ê²ƒì„ í™˜ì˜í•©ë‹ˆë‹¤.")
        time.sleep(1)

        # íƒì • ì´ë¦„ ì„¤ì •
        self.detective_name = input("\níƒì •ë‹˜ì˜ ì„±í•¨ì„ ì…ë ¥í•´ì£¼ì„¸ìš”: ")
        print(f"\n{self.detective_name} íƒì •ë‹˜ ì–´ì„œ ì˜¤ì‹­ì‹œì˜¤. í”¼ë¡œê·¸ë˜ë° 22ê¸°ì˜ í•´ì»¤í†¤ì„ ì¦ê²¨ì£¼ì‹œê¸° ë°”ëë‹ˆë‹¤.")
        
        # ëœë¤ í¬ìƒì ì„ ì •
        self.select_victim()

        # ëœë¤ ë²”ì¸ ì„ ì •
        self.murderer = random.choice(self.characters)
        
        # ë‹¤ì‰ë©”ì‹œì§€ ìƒì„±
        self.write_dying_message()


        # -----
        print(f"""
########################################

            ~í‰í™”ë¡œìš´ í•´ì»¤í†¤~
                         
########################################
        """)

        time.sleep(1.5)


        print(f"\nì½”ë”©ì— ëª°ë‘í•˜ë˜ {self.detective_name}, ëˆˆì´ í”¼ë¡œí•´ì§€ê¸° ì‹œì‘í•œë‹¤. í•´ì»¤í†¤ì˜ ì—´ê¸°ê°€ ê³ ì¡°ë ìˆ˜ë¡, ì •ì‹ ì€ ì ì  íë¦¿í•´ì§„ë‹¤.")
        time.sleep(1)
        print(f"\nğŸ•µ {self.detective_name}: ì´ í•´ì»¤í†¤, ë„ˆë¬´ í‰í™”ë¡­ê¸°ë§Œ í•˜êµ°... ë­”ê°€ ì¬ë°ŒëŠ” ì‚¬ê±´ì´ë¼ë„ í„°ì ¸ì•¼ í•  í…ë°. ë­, ì½”ë“œê°€ ëª½ë•… ë‚ ì•„ê°€ëŠ” ì¼ì´ë¼ë“ ì§€.")
        time.sleep(1)
        print(f"ğŸ˜€ {self.victim.name}: í•˜í•˜, íƒì •ë‹˜! ê·¸ëŸ° ë¬´ì„œìš´ ë§ì”€ì€ ì œë°œ ê·¸ë§Œí•˜ì„¸ìš”. ìƒìƒë§Œ í•´ë„ ì•„ì°”í•˜ë„¤ìš”... ê·¸ëŸ° ì¼ì€ ì ˆëŒ€ë¡œ ì¼ì–´ë‚˜ì§€ ì•Šì„ ê±°ì˜ˆìš”.")
        time.sleep(1)
        print(f"ğŸ•µ {self.detective_name}: ë­, ê·¸ë ‡ê¸´ í•˜ê² ì§€. ì•„, ì°¸ê³ ë¡œ ë‚˜ëŠ” ëª…íƒì • {self.detective_name}! ì‚¬ê±´ì´ í„°ì§€ë©´ ì–¸ì œë“  ë‚˜ë¥¼ ì°¾ì•„.")
        time.sleep(1)
        print(f"ğŸ˜€ {self.victim.name}: í•˜í•˜, ëª…íƒì •ë‹˜! ì•Œê² ìŠµë‹ˆë‹¤. ê·¸ëŸ°ë° ìš”ì¦˜ ì œ ë…¸íŠ¸ë¶ì„ ìê¾¸ ëˆ„ê°€ í›”ì³ë³´ëŠ” ê²ƒ ê°™ì•„ì„œ ì‹ ê²½ ì“°ì´ê¸´ í•´ìš”. ì§‘ ì• ì¹´í˜ì—ì„œ ì½”ë”©í•˜ë‹¤ ë³´ë©´ ë§ì´ì£ ...")
        time.sleep(1)
        print(f"ê·¸ë ‡ê²Œ ë‘˜ì€ í—¤ì–´ì¡Œê³ , ê·¸ë¡œë¶€í„° 10ë¶„ í›„ ê°‘ìê¸° ì •ì „ì´ ì¼ì–´ë‚˜ê²Œ ë˜ëŠ”ë°..\n")
        time.sleep(1)

        print(f"""
########################################

               ì‚¬ê±´ ë°œìƒ
                         
########################################
        """)
        time.sleep(1)

        print(f"ê°‘ìê¸° ë‚ ì¹´ë¡œìš´ ë¹„ëª… ì†Œë¦¬ê°€ ìš¸ë ¤ í¼ì¡Œë‹¤. {self.victim.name} ì”¨ì˜ ë…¸íŠ¸ë¶ í™”ë©´ì´ ìˆœì‹ê°„ì— ë¸”ë£¨ìŠ¤í¬ë¦°ìœ¼ë¡œ ë°”ë€Œì—ˆë‹¤.")
        time.sleep(1)
        print(f"ê·¸ ì¶©ê²©ì— {self.victim.name} ì”¨ëŠ” ì •ì‹ ì„ ìƒê³  ê·¸ëŒ€ë¡œ ì“°ëŸ¬ì¡Œë‹¤...")
        time.sleep(1)

        print(f"\ní˜„ì¥ì€ ìˆœì‹ê°„ì— í˜¼ë€ì— ë¹ ì¡Œê³ , ë°”ë‹¥ì—ëŠ” {self.victim.name} ì”¨ì˜ ë©”ì‹œì§€ê°€ ë‚¨ê²¨ì ¸ ìˆì—ˆë‹¤.")
        time.sleep(1)
        
        print(f"""\n
================ì‚¬ë§í•˜ì§€ëŠ” ì•Šì•˜ì§€ë§Œ ì´ê²Œ ë‹¤ì‰ë©”ì‹œì§€?!================
                {self.dying_message}
==================================================================
        """)
        time.sleep(1)

        print(f"ë¬¸ì œì˜ ë…¸íŠ¸ë¶ ì£¼ìœ„ì— ìˆëŠ” ì‚¬ëŒì€ {len(self.characters)}ëª…ì…ë‹ˆë‹¤.")
        time.sleep(1)
        print("ê·¸ ì¤‘, ë²”ì¸ì€ ë°”ë¡œ ì´ ìë¦¬ì— ìˆì„ ê²ƒì…ë‹ˆë‹¤...")
        time.sleep(1)
        print(f"{self.detective_name} ë‹˜ì˜ ì„ë¬´ëŠ” ë²”ì¸ì„ ì°¾ì•„ë‚´ëŠ” ê²ƒì…ë‹ˆë‹¤. ì§„ì‹¤ì„ ë°í˜€ë‚´ì„¸ìš”. ê¸°íšŒëŠ” {self.lives}ë²ˆì…ë‹ˆë‹¤.")
        time.sleep(1)

        print(f"""
########################################

               ì¶”ë¦¬ ì‹œì‘
                         
########################################
        """)
        time.sleep(1)
        
    def select_victim(self):
        """
        ëœë¤ í¬ìƒì ì„ ì •
        """
        self.victim = random.choice(self.characters)
        self.characters.remove(self.victim)
    
    def write_dying_message(self):
        """
        ë‹¤ì‰ë©”ì‹œì§€ ìƒì„±
        """
        dying_message_type = random.choice(list(self.character_attr.keys()))
        self.dying_message = f"{self.character_attr[dying_message_type]}ì€ {getattr(self.murderer, dying_message_type)} ìœ½..â˜ ï¸"        
    
    def investigate(self):
        """
        ìš©ì˜ì ì¡°ì‚¬
        """

        # ìš©ì˜ì ë¦¬ìŠ¤íŠ¸ ì¶œë ¥
        print("\nìš©ì˜ìì™€ ëŒ€í™”ë¥¼ ë‚˜ëˆ„ê³  ì¸ìƒì°©ì˜ë¥¼ ìˆ˜ì§‘í•˜ì„¸ìš”...\n")
        for index, char in enumerate(self.characters, 1):
            print(f"{index}. {char.name}")

        # ì¡°ì‚¬í•  ìš©ì˜ì ì„ íƒ
        choice_name = input("\nëˆ„êµ¬ë¥¼ ì¡°ì‚¬í•˜ì‹œê² ìŠµë‹ˆê¹Œ? ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”: ").strip()

        # ìœ íš¨ì„± ê²€ì‚¬ í›„, ìš©ì˜ì ì •ë³´ ì¶œë ¥
        for char in self.characters:
            if char.name == choice_name:
                self.display_clues(char) # ìš©ì˜ì ì •ë³´ ì¶œë ¥
                return

        # ìœ íš¨í•˜ì§€ ì•Šì€ ì…ë ¥ì¼ ë•Œ
        print("ì˜ëª»ëœ ì…ë ¥ì…ë‹ˆë‹¤! ì‹œê°„ì´ ì–¼ë§ˆ ë‚¨ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤, ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”!")
        print("ë²”ì¸ì€ ì•„ì§ë„ ìš°ë¦¬ ê³ì— ìˆì–´ìš”. ì„œë‘˜ëŸ¬ ì§„ì‹¤ì„ ë°í˜€ë‚´ì•¼ í•©ë‹ˆë‹¤!")
        print(f"ğŸ•µ {self.detective_name}: ì¢‹ì•„, ì´ë²ˆì—” ì˜ ì„ íƒí•´ë³´ì.\n")
        self.investigate();
      
    def display_clues(self, choice):
        """
        ìš©ì˜ì ì •ë³´ ì¶œë ¥
        """
        print(f"\n{choice.name}ì˜ ì¸ìƒì°©ì˜ë¥¼ ë´…ë‹ˆë‹¤.")
        for attr_name, kor in self.character_attr.items():
            print(f"- {kor}: {getattr(choice, attr_name)}")

    def prompt_choice(self, prompt):
         while True:
            choice = input(prompt).strip().lower()
            if choice in ['ë„¤', 'ì•„ë‹ˆì˜¤']:
                return choice
            print("ì˜ëª»ëœ ì…ë ¥ì…ë‹ˆë‹¤. ë„¤ ë˜ëŠ” ì•„ë‹ˆì˜¤ë§Œ ì…ë ¥í•´ ì£¼ì„¸ìš”.")

    def accuse(self):
        """
        ë²”ì¸ ìƒ‰ì¶œ
        """

        # ìš©ì˜ì ë¦¬ìŠ¤íŠ¸ ì¶œë ¥
        print("\në²”ì¸ì„ ì§€ëª©í•  ì‹œê°„ì…ë‹ˆë‹¤.")
        for index, char in enumerate(self.characters, 1):
            print(f"{index}. {char.name}")

        # ë²”ì¸ ì§€ëª©
        choice_name = input("\nëˆ„êµ¬ë¥¼ ë²”ì¸ìœ¼ë¡œ ì§€ëª©í•˜ì‹œê² ìŠµë‹ˆê¹Œ? ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”: ").strip()
        print(f"ğŸ•µ {self.detective_name}: ë²”ì¸ì€ ë°”ë¡œ {choice_name} ì”¨ì•¼")

        # ë²”ì¸ì´ ë§ëŠ”ì§€ í™•ì¸
        for char in self.characters:
            if char.name == choice_name:
                self.suspect = char
                self.check_outcome()
                return

        # ì§€ëª©í•œ ì‚¬ëŒì´ ìš©ì˜ì ë¦¬ìŠ¤íŠ¸ì— ì—†ëŠ” ì‚¬ëŒì¼ ë•Œ ë²”ì¸ ìƒ‰ì¶œ ì¬ì‹œì‘
        print("íƒì •ë‹˜, ê·¸ê±´ ì˜ëª»ëœ ì„ íƒì…ë‹ˆë‹¤! ì‹œê°„ì´ ì–¼ë§ˆ ë‚¨ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤, ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”!")
        print("ë²”ì¸ì€ ì•„ì§ë„ ìš°ë¦¬ ê³ì— ìˆì–´ìš”. ì„œë‘˜ëŸ¬ ì§„ì‹¤ì„ ë°í˜€ë‚´ì•¼ í•©ë‹ˆë‹¤!")
        print(f"ğŸ•µ {self.detective_name}: ì¢‹ì•„, ì´ë²ˆì—” ì˜ ì„ íƒí•´ë³´ì.\n")
        time.sleep(1)
        self.accuse()

    def match_dying_message(self, character) -> bool:
        if self.dying_message == f"ë¨¸ë¦¬ìŠ¤íƒ€ì¼ì€ {character.hair} ìœ½..â˜ ï¸" or \
                self.dying_message == f"ì˜·ì€ {character.clothes} ìœ½..â˜ ï¸" or \
                self.dying_message == f"ì‹ ë°œì€ {character.shoes} ìœ½..â˜ ï¸":
            return True
        return False

    def check_outcome(self):
        """
        ë²”ì¸ ìƒ‰ì¶œ ì„±ê³µ í™•ì¸

        1. ë§ìœ¼ë©´ -> ì„±ê³µ ë©”ì‹œì§€ + ê²Œì„ ì¬ì‹œì‘ ì—¬ë¶€
        2. í‹€ë¦¬ë©´ -> ê¸°íšŒ 1ë§Œí¼ ì°¨ê°
            1) ê¸°íšŒ ë‚¨ì€ ê²½ìš° -> ì¬ì¡°ì‚¬ or ì¬ì§€ëª©
            2) ê¸°íšŒ ì—†ëŠ” ê²½ìš° -> ì‹¤íŒ¨ ë©”ì‹œì§€ + ê²Œì„ ì¬ì‹œì‘ ì—¬ë¶€
        """
        if self.match_dying_message(self.suspect):
            print("""
----------------------------------------------------------------------------------


     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—    â–ˆâ–ˆâ•—    â–ˆâ–ˆâ•—â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—
    â–ˆâ–ˆâ•”â•â•â•â•â• â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â•â•    â–ˆâ–ˆâ•‘    â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ•‘
    â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â–ˆâ–ˆâ–ˆâ–ˆâ•”â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—      â–ˆâ–ˆâ•‘ â–ˆâ•— â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â–ˆâ–ˆâ•— â–ˆâ–ˆâ•‘
    â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•      â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘
    â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘ â•šâ•â• â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—    â•šâ–ˆâ–ˆâ–ˆâ•”â–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘ â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•‘
     â•šâ•â•â•â•â•â• â•šâ•â•  â•šâ•â•â•šâ•â•     â•šâ•â•â•šâ•â•â•â•â•â•â•     â•šâ•â•â•â•šâ•â•â• â•šâ•â•â•šâ•â•  â•šâ•â•â•â•


----------------------------------------------------------------------------------""")
            time.sleep(1)
            print(f"""
########################################

           ë‹¹ì‹ ì€ ì—­ì‹œ ëª…íƒì •!! 
                         
########################################
        """)
            time.sleep(1)
            print(f"\nì •ë‹µì…ë‹ˆë‹¤! ë²”ì¸ì€ ë°”ë¡œ {self.suspect.name} ì”¨ì˜€ìŠµë‹ˆë‹¤!")
            time.sleep(1)
            print(f"ë‹¹ì‹ ì˜ ì¶”ë¦¬ëŠ” ì™„ë²½í–ˆìŠµë‹ˆë‹¤, ì—­ì‹œ ëª…íƒì • {self.detective_name}ë‹µêµ°ìš”.")
            time.sleep(1)
            print(f"\nğŸ•µ {self.detective_name}: ì™œ ë…¸íŠ¸ë¶ì„ ë§ê°€ëœ¨ë ¸ìŠµë‹ˆê¹Œ?? {self.victim.name} ì”¨ì˜ ë…¸íŠ¸ë¶ì„ ì™œ ê·¸ë ‡ê²Œ í–ˆì£ ?")
            time.sleep(1)
            print(f"ğŸ¥¹ {self.suspect.name}: ê·¸ê²Œ ì‚¬ì‹¤... {self.victim.name} ì”¨ì˜ íŒ€ì´ í•´ì»¤í†¤ ìš°ìŠ¹ì„ ëª»í•˜ê²Œ í•˜ë ¤ê³ ... ê·¸ë˜ì„œ í™§ê¹€ì—... ì£„ì†¡í•©ë‹ˆë‹¤ğŸ¥¹")
            time.sleep(1)
            print(f"\n{self.suspect.name} ì”¨ëŠ” ëë‚´ ìì‹ ì˜ ë²”í–‰ì„ ì¸ì •í–ˆê³ , í”¼ë¡œê·¸ë˜ë° 22ê¸° í•´ì»¤í†¤ì—ì„œ í‡´ì¶œë‹¹í–ˆìŠµë‹ˆë‹¤.")
            time.sleep(1)
            print(f"ì‚¬ê±´ì€ í•´ê²°ë˜ì—ˆê³ , ëª¨ë“  ì‚¬ëŒë“¤ì´ ì•ˆë„ì˜ í•œìˆ¨ì„ ë‚´ì‰¬ì—ˆìŠµë‹ˆë‹¤. ë‹¹ì‹ ì˜ í™œì•½ ë•ë¶„ì…ë‹ˆë‹¤.")
            time.sleep(1)
            self.ask_restart()

        else:
            self.lives -= 1
            if self.lives > 0:
                print(f"\nğŸ˜¡ {self.suspect.name}: ë¬´ìŠ¨ ì†Œë¦¬ì•¼? ë‚´ ì¸ìƒì°©ì˜ë¥¼ ë´... ë‹¹ì‹  ëª…íƒì • ë§ì•„? ğŸ’¢ğŸ’¢ğŸ’¢")
                print(f"\ní‹€ë ¸ìŠµë‹ˆë‹¤... {self.suspect.name} ì”¨ëŠ” ë²”ì¸ì´ ì•„ë‹™ë‹ˆë‹¤. ë‚¨ì€ ê¸°íšŒëŠ” {self.lives}ë²ˆì…ë‹ˆë‹¤.")
                print(f"ì‹œê°„ì´ ì–¼ë§ˆ ë‚¨ì§€ ì•Šì•˜ì–´ìš”. ì‹ ì¤‘í•˜ê²Œ ì„ íƒí•´ì£¼ì„¸ìš”.")
                time.sleep(1)

                choice = self.prompt_choice("\nìš©ì˜ìë“¤ì˜ ì¸ìƒì°©ì˜ë¥¼ ë‹¤ì‹œ ë³´ê² ìŠµë‹ˆê¹Œ? (ë„¤/ì•„ë‹ˆì˜¤): ")
                if choice == 'ë„¤':
                    print(f"ğŸ•µ {self.detective_name}: ì¢‹ì•˜ì–´... ë‹¤ì‹œ ì°¨ê·¼ì°¨ê·¼ ë³´ì\n")
                    time.sleep(1)
                    self.main_flow()  
                else:
                    self.accuse()  # ë‹¤ì‹œ ì§€ëª©í•  ê¸°íšŒë¥¼ ì¤Œ
            else:
                print(
                    """
----------------------------------------------------------------------------------


    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— 
    â–ˆâ–ˆâ•”â•â•â•â•â• â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â•â•    â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—
    â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â–ˆâ–ˆâ–ˆâ–ˆâ•”â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—      â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•
    â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•      â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•”â•â•â•  â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—
    â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘ â•šâ•â• â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—    â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â• â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•”â• â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘
    â•šâ•â•â•â•â•â• â•šâ•â•  â•šâ•â•â•šâ•â•     â•šâ•â•â•šâ•â•â•â•â•â•â•     â•šâ•â•â•â•â•â•   â•šâ•â•â•â•  â•šâ•â•â•â•â•â•â•â•šâ•â•  â•šâ•â•


----------------------------------------------------------------------------------"""
                )
                time.sleep(1)
                print(f"""
########################################

            ì¶”ë¦¬ ì‹¤íŒ¨...... 
                         
########################################
        """)
                time.sleep(1)
                print(f"\nğŸ¤ª {self.murderer.name}: ëª…íƒì • ë³„ê±° ì—†ë„¤~~~ í•´ì»¤í†¤ ìš°ìŠ¹ì€ ë‚´êº¼ë‹¤!!!")
                time.sleep(1)
                print(f"\nì•ˆíƒ€ê¹ìŠµë‹ˆë‹¤... ë²”ì¸ì€ {self.murderer.name} ì”¨ì˜€ìŠµë‹ˆë‹¤. ëª¨ë“  ê¸°íšŒë¥¼ ë‹¤ ì¨ë²„ë ¸ìŠµë‹ˆë‹¤.")
                time.sleep(1)
                print(f"ì¶”ë¦¬ëŠ” ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. {self.detective_name} íƒì •ë‹˜, ì´ë²ˆ ì‚¬ê±´ì€ ë‹¹ì‹ ì—ê²Œ í° ìƒì²˜ë¡œ ë‚¨ê²Œ ë  ê²ƒì…ë‹ˆë‹¤.")
                time.sleep(1)
                print(f"ë‹¹ì‹ ì€ ì´ ë¯¸ìŠ¤í„°ë¦¬ë¥¼ í’€ ê¸°íšŒë¥¼ ìƒì—ˆìŠµë‹ˆë‹¤...")
                time.sleep(1)
                print(f"í•˜ì§€ë§Œ, ì§„ì •í•œ íƒì •ì€ ì‹¤íŒ¨ì—ì„œë„ ë°°ì›ë‹ˆë‹¤. ë‹¤ìŒì—” ê¼­ ì§„ì‹¤ì„ ë°í˜€ë‚´ì„¸ìš”.")
                time.sleep(1)
                self.ask_restart()
        
    def ask_restart(self):
        """
        ê²Œì„ ì¬ì‹œì‘ ì—¬ë¶€ í™•ì¸ -> ì¬ì‹œì‘ or ì¢…ë£Œ
        """
        choice = self.prompt_choice("\nê²Œì„ì„ ë‹¤ì‹œ ì‹œì‘í•˜ì‹œê² ìŠµë‹ˆê¹Œ? (ë„¤/ì•„ë‹ˆì˜¤): ")
        if choice == 'ë„¤':
            print()
            self.reset_game()
            self.play()
        else:
            print("ê²Œì„ì„ ì¢…ë£Œí•©ë‹ˆë‹¤. ê°ì‚¬í•©ë‹ˆë‹¤!")

    def reset_game(self):
        """
        ê²Œì„ ì¬ì‹œì‘ ì‹œ, ë¦¬ì…‹
        """
        self.characters.append(self.victim)
        self.lives = 2
        self.victim = None
        self.murderer = None
        self.suspect = None
    
    def main_flow(self):
        """
        ë²”ì¸ ì°¾ê¸°

        1. ìš©ì˜ì ì¡°ì‚¬
        2. ë²”ì¸ ì§€ëª©
        """
        # ì¡°ì‚¬ ë‹¨ê³„ (ì¸ìƒì°©ì˜ë¥¼ ìˆ˜ì§‘, ë¬´ì œí•œ)
        while True:
            self.investigate()
            if self.prompt_choice("\nê³„ì† ì¡°ì‚¬í•˜ì‹œê² ìŠµë‹ˆê¹Œ? (ë„¤/ì•„ë‹ˆì˜¤): ") == 'ì•„ë‹ˆì˜¤':
                break

        # ë²”ì¸ ì§€ëª©
        self.accuse()

    def play(self):
        """
        ê²Œì„ ì‹¤í–‰

        1. ì¸íŠ¸ë¡œ
        2. ë²”ì¸ ì°¾ê¸°
        """
        self.show_intro()
        self.main_flow()


# ê²Œì„ ì‹¤í–‰
if __name__ == "__main__":
    game = DetectiveGame()
    game.play()